{% extends "genshinwishoracle/bootstrap_base.html" %}
{% load static %}
{% block content %}
<link rel="stylesheet" href="{% static 'base/style.css' %}">
<title>{% block title %} Analyze Statistics {% endblock %} </title>
<div>
    <a href="{% url 'main-home' %}"><button name='back' type="submit" class="back-button"><i class="back-arrow"></i>
            Back</button></a>
</div>
<div>
    <table>
        <tr>
            <td>
                <h2 class="display-6"> Settings </h2>
            </td>
        </tr>
        <tr>
            <td>
                {% if user.is_authenticated %}
                <form novalidate>
                    <div>
                        <a
                            href="{% url 'statistics' references.current_banner.value references.current_statistics.value %}?import=True">
                            <button type="button" class="import-button">
                                Import Data
                            </button>
                        </a>
                    </div>
                </form>
                {% endif %}
            </td>
            <td>
                <form novalidate>
                    <div>
                        <a
                            href="{% url 'statistics' references.current_banner.value references.current_statistics.value %}">
                            <button type="button" class="reset-button">
                                Reset Imports
                            </button>
                        </a>
                    </div>
                </form>
            </td>
            <td>
                <a
                    href="{% url 'statistics' references.opposite_banner.value references.current_statistics.value %}?{{ request.GET.urlencode }}"><button
                        class="switch-button" name="switch">Switch to
                        {{references.opposite_banner.present}}</button></a>
            </td>
            <td>
                <a
                    href="{% url 'statistics' references.current_banner.value references.opposite_statistics.value %}?{{ request.GET.urlencode }}"><button
                        class="switch-button" name="switch">Switch to
                        {{references.opposite_statistics.present}}</button></a>
            </td>
        </tr>
    </table>

</div>
<div>
    <h2 class="display-6"> Inputs </h2>
    <form method="post" novalidate>
        {% csrf_token %}

        {% for field in user_form %}
        {% if field.errors %}
        {% for error in field.errors %}
        <div class="form-alert-class">
            <strong>{{ error|escape }}</strong>
        </div>
        {% endfor %}
        {% endif %}
        {% endfor %}

        {% for field in user_form %}
        {{ field.label_tag }}
        {{ field }}
        {% endfor %}
        <button name='submit' type="submit" class="save-button">Save</button>
    </form>
</div>

<div>
    <h2 class="display-6"> Outputs </h2>
    {% for label in output_fields %}
    <div> {{label}}</div>
    {% endfor %}
</div>

{% endblock %}